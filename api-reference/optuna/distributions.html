<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, minimum-scale=1" />
<meta name="generator" content="pdoc 0.9.1" />
<title>optuna.distributions API documentation</title>
<meta name="description" content="" />
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/sanitize.min.css" integrity="sha256-PK9q560IAAa6WVRRh76LtCaI8pjTJ2z11v0miyNNjrs=" crossorigin>
<link rel="preload stylesheet" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/10up-sanitize.css/11.0.1/typography.min.css" integrity="sha256-7l/o7C8jubJiy74VsKTidCy1yBkRtiUGbVkYBylBqUg=" crossorigin>
<link rel="stylesheet preload" as="style" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/styles/github.min.css" crossorigin>
<style>:root{--highlight-color:#fe9}.flex{display:flex !important}body{line-height:1.5em}#content{padding:20px}#sidebar{padding:30px;overflow:hidden}#sidebar > *:last-child{margin-bottom:2cm}.http-server-breadcrumbs{font-size:130%;margin:0 0 15px 0}#footer{font-size:.75em;padding:5px 30px;border-top:1px solid #ddd;text-align:right}#footer p{margin:0 0 0 1em;display:inline-block}#footer p:last-child{margin-right:30px}h1,h2,h3,h4,h5{font-weight:300}h1{font-size:2.5em;line-height:1.1em}h2{font-size:1.75em;margin:1em 0 .50em 0}h3{font-size:1.4em;margin:25px 0 10px 0}h4{margin:0;font-size:105%}h1:target,h2:target,h3:target,h4:target,h5:target,h6:target{background:var(--highlight-color);padding:.2em 0}a{color:#058;text-decoration:none;transition:color .3s ease-in-out}a:hover{color:#e82}.title code{font-weight:bold}h2[id^="header-"]{margin-top:2em}.ident{color:#900}pre code{background:#f8f8f8;font-size:.8em;line-height:1.4em}code{background:#f2f2f1;padding:1px 4px;overflow-wrap:break-word}h1 code{background:transparent}pre{background:#f8f8f8;border:0;border-top:1px solid #ccc;border-bottom:1px solid #ccc;margin:1em 0;padding:1ex}#http-server-module-list{display:flex;flex-flow:column}#http-server-module-list div{display:flex}#http-server-module-list dt{min-width:10%}#http-server-module-list p{margin-top:0}.toc ul,#index{list-style-type:none;margin:0;padding:0}#index code{background:transparent}#index h3{border-bottom:1px solid #ddd}#index ul{padding:0}#index h4{margin-top:.6em;font-weight:bold}@media (min-width:200ex){#index .two-column{column-count:2}}@media (min-width:300ex){#index .two-column{column-count:3}}dl{margin-bottom:2em}dl dl:last-child{margin-bottom:4em}dd{margin:0 0 1em 3em}#header-classes + dl > dd{margin-bottom:3em}dd dd{margin-left:2em}dd p{margin:10px 0}.name{background:#eee;font-weight:bold;font-size:.85em;padding:5px 10px;display:inline-block;min-width:40%}.name:hover{background:#e0e0e0}dt:target .name{background:var(--highlight-color)}.name > span:first-child{white-space:nowrap}.name.class > span:nth-child(2){margin-left:.4em}.inherited{color:#999;border-left:5px solid #eee;padding-left:1em}.inheritance em{font-style:normal;font-weight:bold}.desc h2{font-weight:400;font-size:1.25em}.desc h3{font-size:1em}.desc dt code{background:inherit}.source summary,.git-link-div{color:#666;text-align:right;font-weight:400;font-size:.8em;text-transform:uppercase}.source summary > *{white-space:nowrap;cursor:pointer}.git-link{color:inherit;margin-left:1em}.source pre{max-height:500px;overflow:auto;margin:0}.source pre code{font-size:12px;overflow:visible}.hlist{list-style:none}.hlist li{display:inline}.hlist li:after{content:',\2002'}.hlist li:last-child:after{content:none}.hlist .hlist{display:inline;padding-left:1em}img{max-width:100%}td{padding:0 .5em}.admonition{padding:.1em .5em;margin-bottom:1em}.admonition-title{font-weight:bold}.admonition.note,.admonition.info,.admonition.important{background:#aef}.admonition.todo,.admonition.versionadded,.admonition.tip,.admonition.hint{background:#dfd}.admonition.warning,.admonition.versionchanged,.admonition.deprecated{background:#fd4}.admonition.error,.admonition.danger,.admonition.caution{background:lightpink}</style>
<style media="screen and (min-width: 700px)">@media screen and (min-width:700px){#sidebar{width:30%;height:100vh;overflow:auto;position:sticky;top:0}#content{width:70%;max-width:100ch;padding:3em 4em;border-left:1px solid #ddd}pre code{font-size:1em}.item .name{font-size:1em}main{display:flex;flex-direction:row-reverse;justify-content:flex-end}.toc ul ul,#index ul{padding-left:1.5em}.toc > ul > li{margin-top:.5em}}</style>
<style media="print">@media print{#sidebar h1{page-break-before:always}.source{display:none}}@media print{*{background:transparent !important;color:#000 !important;box-shadow:none !important;text-shadow:none !important}a[href]:after{content:" (" attr(href) ")";font-size:90%}a[href][title]:after{content:none}abbr[title]:after{content:" (" attr(title) ")"}.ir a:after,a[href^="javascript:"]:after,a[href^="#"]:after{content:""}pre,blockquote{border:1px solid #999;page-break-inside:avoid}thead{display:table-header-group}tr,img{page-break-inside:avoid}img{max-width:100% !important}@page{margin:0.5cm}p,h2,h3{orphans:3;widows:3}h1,h2,h3,h4,h5,h6{page-break-after:avoid}}</style>
<script defer src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.1.1/highlight.min.js" integrity="sha256-Uv3H6lx7dJmRfRvH8TH6kJD1TSK1aFcwgx+mdg3epi8=" crossorigin></script>
<script>window.addEventListener('DOMContentLoaded', () => hljs.initHighlighting())</script>
</head>
<body>
<main>
<article id="content">
<header>
<h1 class="title">Module <code>optuna.distributions</code></h1>
</header>
<section id="section-intro">
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">import abc
import copy
import decimal
import json
from typing import Any
from typing import Dict
from typing import Sequence
from typing import Union
import warnings

CategoricalChoiceType = Union[None, bool, int, float, str]


class BaseDistribution(object, metaclass=abc.ABCMeta):
    &#34;&#34;&#34;Base class for distributions.

    Note that distribution classes are not supposed to be called by library users.
    They are used by :class:`~optuna.trial.Trial` and :class:`~optuna.samplers` internally.
    &#34;&#34;&#34;

    def to_external_repr(self, param_value_in_internal_repr: float) -&gt; Any:
        &#34;&#34;&#34;Convert internal representation of a parameter value into external representation.

        Args:
            param_value_in_internal_repr:
                Optuna&#39;s internal representation of a parameter value.

        Returns:
            Optuna&#39;s external representation of a parameter value.
        &#34;&#34;&#34;

        return param_value_in_internal_repr

    def to_internal_repr(self, param_value_in_external_repr: Any) -&gt; float:
        &#34;&#34;&#34;Convert external representation of a parameter value into internal representation.

        Args:
            param_value_in_external_repr:
                Optuna&#39;s external representation of a parameter value.

        Returns:
            Optuna&#39;s internal representation of a parameter value.
        &#34;&#34;&#34;

        return param_value_in_external_repr

    @abc.abstractmethod
    def single(self) -&gt; bool:
        &#34;&#34;&#34;Test whether the range of this distribution contains just a single value.

        Returns:
            :obj:`True` if the range of this distribution contains just a single value,
            otherwise :obj:`False`.
        &#34;&#34;&#34;

        raise NotImplementedError

    @abc.abstractmethod
    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:
        &#34;&#34;&#34;Test if a parameter value is contained in the range of this distribution.

        Args:
            param_value_in_internal_repr:
                Optuna&#39;s internal representation of a parameter value.

        Returns:
            :obj:`True` if the parameter value is contained in the range of this distribution,
            otherwise :obj:`False`.
        &#34;&#34;&#34;

        raise NotImplementedError

    def _asdict(self) -&gt; Dict:

        return self.__dict__

    def __eq__(self, other: Any) -&gt; bool:

        if not isinstance(other, BaseDistribution):
            return NotImplemented
        if not type(self) is type(other):
            return False
        return self.__dict__ == other.__dict__

    def __hash__(self) -&gt; int:

        return hash((self.__class__,) + tuple(sorted(self.__dict__.items())))

    def __repr__(self) -&gt; str:

        kwargs = &#34;, &#34;.join(&#34;{}={}&#34;.format(k, v) for k, v in sorted(self.__dict__.items()))
        return &#34;{}({})&#34;.format(self.__class__.__name__, kwargs)


class UniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A uniform distribution in the linear domain.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_uniform`, and passed to
    :mod:`~optuna.samplers` in general.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is excluded from the range.
    &#34;&#34;&#34;

    def __init__(self, low: float, high: float) -&gt; None:

        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )

        self.low = low
        self.high = high

    def single(self) -&gt; bool:

        return self.low == self.high

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        value = param_value_in_internal_repr
        if self.low == self.high:
            return value == self.low
        else:
            return self.low &lt;= value &lt; self.high


class LogUniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A uniform distribution in the log domain.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_loguniform`, and passed to
    :mod:`~optuna.samplers` in general.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is excluded from the range.
    &#34;&#34;&#34;

    def __init__(self, low: float, high: float) -&gt; None:

        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )
        if low &lt;= 0.0:
            raise ValueError(
                &#34;The `low` value must be larger than 0 for a log distribution &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )

        self.low = low
        self.high = high

    def single(self) -&gt; bool:

        return self.low == self.high

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        value = param_value_in_internal_repr
        if self.low == self.high:
            return value == self.low
        else:
            return self.low &lt;= value &lt; self.high


class DiscreteUniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A discretized uniform distribution in the linear domain.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_discrete_uniform`, and passed
    to :mod:`~optuna.samplers` in general.

    .. note::
        If the range :math:`[\\mathsf{low}, \\mathsf{high}]` is not divisible by :math:`q`,
        :math:`\\mathsf{high}` will be replaced with the maximum of :math:`k q + \\mathsf{low}
        \\lt \\mathsf{high}`, where :math:`k` is an integer.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is included in the range.
        q:
            A discretization step.
    &#34;&#34;&#34;

    def __init__(self, low: float, high: float, q: float) -&gt; None:
        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}, q={}).&#34;.format(low, high, q)
            )

        high = _adjust_discrete_uniform_high(low, high, q)

        self.low = low
        self.high = high
        self.q = q

    def single(self) -&gt; bool:

        if self.low == self.high:
            return True
        high = decimal.Decimal(str(self.high))
        low = decimal.Decimal(str(self.low))
        q = decimal.Decimal(str(self.q))
        if (high - low) &lt; q:
            return True
        return False

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        value = param_value_in_internal_repr
        return self.low &lt;= value &lt;= self.high


class IntUniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A uniform distribution on integers.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_int`, and passed to
    :mod:`~optuna.samplers` in general.

    .. note::
        If the range :math:`[\\mathsf{low}, \\mathsf{high}]` is not divisible by
        :math:`\\mathsf{step}`, :math:`\\mathsf{high}` will be replaced with the maximum of
        :math:`k \\times \\mathsf{step} + \\mathsf{low} \\lt \\mathsf{high}`, where :math:`k` is
        an integer.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is included in the range.
        step:
            A step for spacing between values.
    &#34;&#34;&#34;

    def __init__(self, low: int, high: int, step: int = 1) -&gt; None:
        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )
        if step &lt;= 0:
            raise ValueError(
                &#34;The `step` value must be non-zero positive value, but step={}.&#34;.format(step)
            )

        high = _adjust_int_uniform_high(low, high, step)

        self.low = low
        self.high = high
        self.step = step

    def to_external_repr(self, param_value_in_internal_repr: float) -&gt; int:

        return int(param_value_in_internal_repr)

    def to_internal_repr(self, param_value_in_external_repr: int) -&gt; float:

        return float(param_value_in_external_repr)

    def single(self) -&gt; bool:

        if self.low == self.high:
            return True
        return (self.high - self.low) &lt; self.step

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        value = param_value_in_internal_repr
        return self.low &lt;= value &lt;= self.high


class IntLogUniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A uniform distribution on integers in the log domain.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_int`, and passed to
    :mod:`~optuna.samplers` in general.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is included in the range.
        step:
            A step for spacing between values.

            .. warning::
                Deprecated in v2.0.0. ``step`` argument will be removed in the future.
                The removal of this feature is currently scheduled for v4.0.0,
                but this schedule is subject to change.

                Samplers and other components in Optuna relying on this distribution will ignore
                this value and assume that ``step`` is always 1.
                User-defined samplers may continue to use other values besides 1 during the
                deprecation.
    &#34;&#34;&#34;

    def __init__(self, low: int, high: int, step: int = 1) -&gt; None:
        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )

        if low &lt; 1.0:
            raise ValueError(
                &#34;The `low` value must be equal to or greater than 1 for a log distribution &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )

        if step != 1:
            self._warn_step()

        self.low = low
        self.high = high
        self._step = step

    def __repr__(self) -&gt; str:
        # TODO(hvy): `BaseDistribution.__repr__` could rely on `_asdict` instead of `__dict__`.
        # `IntLogUniformDistribution` would not have to override `__repr__`.
        kwargs = &#34;, &#34;.join(&#34;{}={}&#34;.format(k, v) for k, v in sorted(self._asdict().items()))
        return &#34;{}({})&#34;.format(self.__class__.__name__, kwargs)

    def _asdict(self) -&gt; Dict:
        d = copy.copy(self.__dict__)
        d[&#34;step&#34;] = d.pop(&#34;_step&#34;)
        return d

    def _warn_step(self) -&gt; None:
        warnings.warn(
            &#34;Samplers and other components in Optuna will assume that `step` is 1. &#34;
            &#34;`step` argument is deprecated and will be removed in the future. &#34;
            &#34;The removal of this feature is currently scheduled for v4.0.0, &#34;
            &#34;but this schedule is subject to change.&#34;,
            FutureWarning,
        )

    def to_external_repr(self, param_value_in_internal_repr: float) -&gt; int:
        return int(param_value_in_internal_repr)

    def to_internal_repr(self, param_value_in_external_repr: int) -&gt; float:
        return float(param_value_in_external_repr)

    def single(self) -&gt; bool:
        return self.low == self.high

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:
        value = param_value_in_internal_repr
        return self.low &lt;= value &lt;= self.high

    @property
    def step(self) -&gt; int:
        self._warn_step()
        return self._step

    @step.setter
    def step(self, value: int) -&gt; None:
        self._warn_step()
        self._step = value


class CategoricalDistribution(BaseDistribution):
    &#34;&#34;&#34;A categorical distribution.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_categorical`, and
    passed to :mod:`~optuna.samplers` in general.

    Args:
        choices:
            Parameter value candidates.

    .. note::

        Not all types are guaranteed to be compatible with all storages. It is recommended to
        restrict the types of the choices to :obj:`None`, :class:`bool`, :class:`int`,
        :class:`float` and :class:`str`.

    Attributes:
        choices:
            Parameter value candidates.
    &#34;&#34;&#34;

    def __init__(self, choices: Sequence[CategoricalChoiceType]) -&gt; None:

        if len(choices) == 0:
            raise ValueError(&#34;The `choices` must contains one or more elements.&#34;)
        for choice in choices:
            if choice is not None and not isinstance(choice, (bool, int, float, str)):
                message = (
                    &#34;Choices for a categorical distribution should be a tuple of None, bool, &#34;
                    &#34;int, float and str for persistent storage but contains {} which is of type &#34;
                    &#34;{}.&#34;.format(choice, type(choice).__name__)
                )
                warnings.warn(message)

        self.choices = tuple(choices)

    def to_external_repr(self, param_value_in_internal_repr: float) -&gt; CategoricalChoiceType:

        return self.choices[int(param_value_in_internal_repr)]

    def to_internal_repr(self, param_value_in_external_repr: CategoricalChoiceType) -&gt; float:

        try:
            return self.choices.index(param_value_in_external_repr)
        except ValueError as e:
            raise ValueError(
                &#34;&#39;{}&#39; not in {}.&#34;.format(param_value_in_external_repr, self.choices)
            ) from e

    def single(self) -&gt; bool:

        return len(self.choices) == 1

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        index = int(param_value_in_internal_repr)
        return 0 &lt;= index &lt; len(self.choices)


DISTRIBUTION_CLASSES = (
    UniformDistribution,
    LogUniformDistribution,
    DiscreteUniformDistribution,
    IntUniformDistribution,
    IntLogUniformDistribution,
    CategoricalDistribution,
)


def json_to_distribution(json_str: str) -&gt; BaseDistribution:
    &#34;&#34;&#34;Deserialize a distribution in JSON format.

    Args:
        json_str: A JSON-serialized distribution.

    Returns:
        A deserialized distribution.
    &#34;&#34;&#34;

    json_dict = json.loads(json_str)

    if json_dict[&#34;name&#34;] == CategoricalDistribution.__name__:
        json_dict[&#34;attributes&#34;][&#34;choices&#34;] = tuple(json_dict[&#34;attributes&#34;][&#34;choices&#34;])

    for cls in DISTRIBUTION_CLASSES:
        if json_dict[&#34;name&#34;] == cls.__name__:
            return cls(**json_dict[&#34;attributes&#34;])

    raise ValueError(&#34;Unknown distribution class: {}&#34;.format(json_dict[&#34;name&#34;]))


def distribution_to_json(dist: BaseDistribution) -&gt; str:
    &#34;&#34;&#34;Serialize a distribution to JSON format.

    Args:
        dist: A distribution to be serialized.

    Returns:
        A JSON string of a given distribution.

    &#34;&#34;&#34;

    return json.dumps({&#34;name&#34;: dist.__class__.__name__, &#34;attributes&#34;: dist._asdict()})


def check_distribution_compatibility(
    dist_old: BaseDistribution, dist_new: BaseDistribution
) -&gt; None:
    &#34;&#34;&#34;A function to check compatibility of two distributions.

    Note that this method is not supposed to be called by library users.

    Args:
        dist_old: A distribution previously recorded in storage.
        dist_new: A distribution newly added to storage.

    Returns:
        True denotes given distributions are compatible. Otherwise, they are not.
    &#34;&#34;&#34;

    if dist_old.__class__ != dist_new.__class__:
        raise ValueError(&#34;Cannot set different distribution kind to the same parameter name.&#34;)

    if not isinstance(dist_old, CategoricalDistribution):
        return
    if not isinstance(dist_new, CategoricalDistribution):
        return
    if dist_old.choices != dist_new.choices:
        raise ValueError(
            CategoricalDistribution.__name__ + &#34; does not support dynamic value space.&#34;
        )


def _adjust_discrete_uniform_high(low: float, high: float, q: float) -&gt; float:
    d_high = decimal.Decimal(str(high))
    d_low = decimal.Decimal(str(low))
    d_q = decimal.Decimal(str(q))

    d_r = d_high - d_low

    if d_r % d_q != decimal.Decimal(&#34;0&#34;):
        old_high = high
        high = float((d_r // d_q) * d_q + d_low)
        warnings.warn(
            &#34;The distribution is specified by [{low}, {old_high}] and q={step}, but the range &#34;
            &#34;is not divisible by `q`. It will be replaced by [{low}, {high}].&#34;.format(
                low=low, old_high=old_high, high=high, step=q
            )
        )

    return high


def _adjust_int_uniform_high(low: int, high: int, step: int) -&gt; int:
    r = high - low
    if r % step != 0:
        old_high = high
        high = r // step * step + low
        warnings.warn(
            &#34;The distribution is specified by [{low}, {old_high}] and step={step}, but the range &#34;
            &#34;is not divisible by `step`. It will be replaced by [{low}, {high}].&#34;.format(
                low=low, old_high=old_high, high=high, step=step
            )
        )
    return high


def _get_single_value(distribution: BaseDistribution) -&gt; Union[int, float, CategoricalChoiceType]:

    assert distribution.single()

    if isinstance(
        distribution,
        (
            UniformDistribution,
            LogUniformDistribution,
            DiscreteUniformDistribution,
            IntUniformDistribution,
            IntLogUniformDistribution,
        ),
    ):
        return distribution.low
    elif isinstance(distribution, CategoricalDistribution):
        return distribution.choices[0]
    assert False</code></pre>
</details>
</section>
<section>
</section>
<section>
</section>
<section>
<h2 class="section-title" id="header-functions">Functions</h2>
<dl>
<dt id="optuna.distributions.check_distribution_compatibility"><code class="name flex">
<span>def <span class="ident">check_distribution_compatibility</span></span>(<span>dist_old: <a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a>, dist_new: <a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a>) ‑> NoneType</span>
</code></dt>
<dd>
<div class="desc"><p>A function to check compatibility of two distributions.</p>
<p>Note that this method is not supposed to be called by library users.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>dist_old</code></strong></dt>
<dd>A distribution previously recorded in storage.</dd>
<dt><strong><code>dist_new</code></strong></dt>
<dd>A distribution newly added to storage.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>True denotes given distributions are compatible. Otherwise, they are not.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def check_distribution_compatibility(
    dist_old: BaseDistribution, dist_new: BaseDistribution
) -&gt; None:
    &#34;&#34;&#34;A function to check compatibility of two distributions.

    Note that this method is not supposed to be called by library users.

    Args:
        dist_old: A distribution previously recorded in storage.
        dist_new: A distribution newly added to storage.

    Returns:
        True denotes given distributions are compatible. Otherwise, they are not.
    &#34;&#34;&#34;

    if dist_old.__class__ != dist_new.__class__:
        raise ValueError(&#34;Cannot set different distribution kind to the same parameter name.&#34;)

    if not isinstance(dist_old, CategoricalDistribution):
        return
    if not isinstance(dist_new, CategoricalDistribution):
        return
    if dist_old.choices != dist_new.choices:
        raise ValueError(
            CategoricalDistribution.__name__ + &#34; does not support dynamic value space.&#34;
        )</code></pre>
</details>
</dd>
<dt id="optuna.distributions.distribution_to_json"><code class="name flex">
<span>def <span class="ident">distribution_to_json</span></span>(<span>dist: <a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a>) ‑> str</span>
</code></dt>
<dd>
<div class="desc"><p>Serialize a distribution to JSON format.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>dist</code></strong></dt>
<dd>A distribution to be serialized.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A JSON string of a given distribution.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def distribution_to_json(dist: BaseDistribution) -&gt; str:
    &#34;&#34;&#34;Serialize a distribution to JSON format.

    Args:
        dist: A distribution to be serialized.

    Returns:
        A JSON string of a given distribution.

    &#34;&#34;&#34;

    return json.dumps({&#34;name&#34;: dist.__class__.__name__, &#34;attributes&#34;: dist._asdict()})</code></pre>
</details>
</dd>
<dt id="optuna.distributions.json_to_distribution"><code class="name flex">
<span>def <span class="ident">json_to_distribution</span></span>(<span>json_str: str) ‑> <a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></span>
</code></dt>
<dd>
<div class="desc"><p>Deserialize a distribution in JSON format.</p>
<h2 id="args">Args</h2>
<dl>
<dt><strong><code>json_str</code></strong></dt>
<dd>A JSON-serialized distribution.</dd>
</dl>
<h2 id="returns">Returns</h2>
<p>A deserialized distribution.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def json_to_distribution(json_str: str) -&gt; BaseDistribution:
    &#34;&#34;&#34;Deserialize a distribution in JSON format.

    Args:
        json_str: A JSON-serialized distribution.

    Returns:
        A deserialized distribution.
    &#34;&#34;&#34;

    json_dict = json.loads(json_str)

    if json_dict[&#34;name&#34;] == CategoricalDistribution.__name__:
        json_dict[&#34;attributes&#34;][&#34;choices&#34;] = tuple(json_dict[&#34;attributes&#34;][&#34;choices&#34;])

    for cls in DISTRIBUTION_CLASSES:
        if json_dict[&#34;name&#34;] == cls.__name__:
            return cls(**json_dict[&#34;attributes&#34;])

    raise ValueError(&#34;Unknown distribution class: {}&#34;.format(json_dict[&#34;name&#34;]))</code></pre>
</details>
</dd>
</dl>
</section>
<section>
<h2 class="section-title" id="header-classes">Classes</h2>
<dl>
<dt id="optuna.distributions.BaseDistribution"><code class="flex name class">
<span>class <span class="ident">BaseDistribution</span></span>
</code></dt>
<dd>
<div class="desc"><p>Base class for distributions.</p>
<p>Note that distribution classes are not supposed to be called by library users.
They are used by :class:<code>~optuna.trial.Trial</code> and :class:<code>~optuna.samplers</code> internally.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class BaseDistribution(object, metaclass=abc.ABCMeta):
    &#34;&#34;&#34;Base class for distributions.

    Note that distribution classes are not supposed to be called by library users.
    They are used by :class:`~optuna.trial.Trial` and :class:`~optuna.samplers` internally.
    &#34;&#34;&#34;

    def to_external_repr(self, param_value_in_internal_repr: float) -&gt; Any:
        &#34;&#34;&#34;Convert internal representation of a parameter value into external representation.

        Args:
            param_value_in_internal_repr:
                Optuna&#39;s internal representation of a parameter value.

        Returns:
            Optuna&#39;s external representation of a parameter value.
        &#34;&#34;&#34;

        return param_value_in_internal_repr

    def to_internal_repr(self, param_value_in_external_repr: Any) -&gt; float:
        &#34;&#34;&#34;Convert external representation of a parameter value into internal representation.

        Args:
            param_value_in_external_repr:
                Optuna&#39;s external representation of a parameter value.

        Returns:
            Optuna&#39;s internal representation of a parameter value.
        &#34;&#34;&#34;

        return param_value_in_external_repr

    @abc.abstractmethod
    def single(self) -&gt; bool:
        &#34;&#34;&#34;Test whether the range of this distribution contains just a single value.

        Returns:
            :obj:`True` if the range of this distribution contains just a single value,
            otherwise :obj:`False`.
        &#34;&#34;&#34;

        raise NotImplementedError

    @abc.abstractmethod
    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:
        &#34;&#34;&#34;Test if a parameter value is contained in the range of this distribution.

        Args:
            param_value_in_internal_repr:
                Optuna&#39;s internal representation of a parameter value.

        Returns:
            :obj:`True` if the parameter value is contained in the range of this distribution,
            otherwise :obj:`False`.
        &#34;&#34;&#34;

        raise NotImplementedError

    def _asdict(self) -&gt; Dict:

        return self.__dict__

    def __eq__(self, other: Any) -&gt; bool:

        if not isinstance(other, BaseDistribution):
            return NotImplemented
        if not type(self) is type(other):
            return False
        return self.__dict__ == other.__dict__

    def __hash__(self) -&gt; int:

        return hash((self.__class__,) + tuple(sorted(self.__dict__.items())))

    def __repr__(self) -&gt; str:

        kwargs = &#34;, &#34;.join(&#34;{}={}&#34;.format(k, v) for k, v in sorted(self.__dict__.items()))
        return &#34;{}({})&#34;.format(self.__class__.__name__, kwargs)</code></pre>
</details>
<h3>Subclasses</h3>
<ul class="hlist">
<li><a title="optuna.distributions.CategoricalDistribution" href="#optuna.distributions.CategoricalDistribution">CategoricalDistribution</a></li>
<li><a title="optuna.distributions.DiscreteUniformDistribution" href="#optuna.distributions.DiscreteUniformDistribution">DiscreteUniformDistribution</a></li>
<li><a title="optuna.distributions.IntLogUniformDistribution" href="#optuna.distributions.IntLogUniformDistribution">IntLogUniformDistribution</a></li>
<li><a title="optuna.distributions.IntUniformDistribution" href="#optuna.distributions.IntUniformDistribution">IntUniformDistribution</a></li>
<li><a title="optuna.distributions.LogUniformDistribution" href="#optuna.distributions.LogUniformDistribution">LogUniformDistribution</a></li>
<li><a title="optuna.distributions.UniformDistribution" href="#optuna.distributions.UniformDistribution">UniformDistribution</a></li>
<li><a title="optuna.testing.distribution.UnsupportedDistribution" href="testing/distribution.html#optuna.testing.distribution.UnsupportedDistribution">UnsupportedDistribution</a></li>
</ul>
<h3>Methods</h3>
<dl>
<dt id="optuna.distributions.BaseDistribution.single"><code class="name flex">
<span>def <span class="ident">single</span></span>(<span>self) ‑> bool</span>
</code></dt>
<dd>
<div class="desc"><p>Test whether the range of this distribution contains just a single value.</p>
<h2 id="returns">Returns</h2>
<p>:obj:<code>True</code> if the range of this distribution contains just a single value,
otherwise :obj:<code>False</code>.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@abc.abstractmethod
def single(self) -&gt; bool:
    &#34;&#34;&#34;Test whether the range of this distribution contains just a single value.

    Returns:
        :obj:`True` if the range of this distribution contains just a single value,
        otherwise :obj:`False`.
    &#34;&#34;&#34;

    raise NotImplementedError</code></pre>
</details>
</dd>
<dt id="optuna.distributions.BaseDistribution.to_external_repr"><code class="name flex">
<span>def <span class="ident">to_external_repr</span></span>(<span>self, param_value_in_internal_repr: float) ‑> Any</span>
</code></dt>
<dd>
<div class="desc"><p>Convert internal representation of a parameter value into external representation.</p>
<h2 id="args">Args</h2>
<p>param_value_in_internal_repr:
Optuna's internal representation of a parameter value.</p>
<h2 id="returns">Returns</h2>
<p>Optuna's external representation of a parameter value.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_external_repr(self, param_value_in_internal_repr: float) -&gt; Any:
    &#34;&#34;&#34;Convert internal representation of a parameter value into external representation.

    Args:
        param_value_in_internal_repr:
            Optuna&#39;s internal representation of a parameter value.

    Returns:
        Optuna&#39;s external representation of a parameter value.
    &#34;&#34;&#34;

    return param_value_in_internal_repr</code></pre>
</details>
</dd>
<dt id="optuna.distributions.BaseDistribution.to_internal_repr"><code class="name flex">
<span>def <span class="ident">to_internal_repr</span></span>(<span>self, param_value_in_external_repr: Any) ‑> float</span>
</code></dt>
<dd>
<div class="desc"><p>Convert external representation of a parameter value into internal representation.</p>
<h2 id="args">Args</h2>
<p>param_value_in_external_repr:
Optuna's external representation of a parameter value.</p>
<h2 id="returns">Returns</h2>
<p>Optuna's internal representation of a parameter value.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">def to_internal_repr(self, param_value_in_external_repr: Any) -&gt; float:
    &#34;&#34;&#34;Convert external representation of a parameter value into internal representation.

    Args:
        param_value_in_external_repr:
            Optuna&#39;s external representation of a parameter value.

    Returns:
        Optuna&#39;s internal representation of a parameter value.
    &#34;&#34;&#34;

    return param_value_in_external_repr</code></pre>
</details>
</dd>
</dl>
</dd>
<dt id="optuna.distributions.CategoricalDistribution"><code class="flex name class">
<span>class <span class="ident">CategoricalDistribution</span></span>
<span>(</span><span>choices: Sequence[Union[NoneType, int, float, str]])</span>
</code></dt>
<dd>
<div class="desc"><p>A categorical distribution.</p>
<p>This object is instantiated by :func:<code>~optuna.trial.Trial.suggest_categorical</code>, and
passed to :mod:<code>~optuna.samplers</code> in general.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Not all types are guaranteed to be compatible with all storages. It is recommended to
restrict the types of the choices to :obj:<code>None</code>, :class:<code>bool</code>, :class:<code>int</code>,
:class:<code>float</code> and :class:<code>str</code>.</p>
</div>
<h2 id="attributes">Attributes</h2>
<p>choices:
Parameter value candidates.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class CategoricalDistribution(BaseDistribution):
    &#34;&#34;&#34;A categorical distribution.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_categorical`, and
    passed to :mod:`~optuna.samplers` in general.

    Args:
        choices:
            Parameter value candidates.

    .. note::

        Not all types are guaranteed to be compatible with all storages. It is recommended to
        restrict the types of the choices to :obj:`None`, :class:`bool`, :class:`int`,
        :class:`float` and :class:`str`.

    Attributes:
        choices:
            Parameter value candidates.
    &#34;&#34;&#34;

    def __init__(self, choices: Sequence[CategoricalChoiceType]) -&gt; None:

        if len(choices) == 0:
            raise ValueError(&#34;The `choices` must contains one or more elements.&#34;)
        for choice in choices:
            if choice is not None and not isinstance(choice, (bool, int, float, str)):
                message = (
                    &#34;Choices for a categorical distribution should be a tuple of None, bool, &#34;
                    &#34;int, float and str for persistent storage but contains {} which is of type &#34;
                    &#34;{}.&#34;.format(choice, type(choice).__name__)
                )
                warnings.warn(message)

        self.choices = tuple(choices)

    def to_external_repr(self, param_value_in_internal_repr: float) -&gt; CategoricalChoiceType:

        return self.choices[int(param_value_in_internal_repr)]

    def to_internal_repr(self, param_value_in_external_repr: CategoricalChoiceType) -&gt; float:

        try:
            return self.choices.index(param_value_in_external_repr)
        except ValueError as e:
            raise ValueError(
                &#34;&#39;{}&#39; not in {}.&#34;.format(param_value_in_external_repr, self.choices)
            ) from e

    def single(self) -&gt; bool:

        return len(self.choices) == 1

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        index = int(param_value_in_internal_repr)
        return 0 &lt;= index &lt; len(self.choices)</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></b></code>:
<ul class="hlist">
<li><code><a title="optuna.distributions.BaseDistribution.single" href="#optuna.distributions.BaseDistribution.single">single</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_external_repr" href="#optuna.distributions.BaseDistribution.to_external_repr">to_external_repr</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_internal_repr" href="#optuna.distributions.BaseDistribution.to_internal_repr">to_internal_repr</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="optuna.distributions.DiscreteUniformDistribution"><code class="flex name class">
<span>class <span class="ident">DiscreteUniformDistribution</span></span>
<span>(</span><span>low: float, high: float, q: float)</span>
</code></dt>
<dd>
<div class="desc"><p>A discretized uniform distribution in the linear domain.</p>
<p>This object is instantiated by :func:<code>~optuna.trial.Trial.suggest_discrete_uniform</code>, and passed
to :mod:<code>~optuna.samplers</code> in general.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the range :math:<code>[\mathsf{low}, \mathsf{high}]</code> is not divisible by :math:<code>q</code>,
:math:<code>\mathsf{high}</code> will be replaced with the maximum of :math:<code>k q + \mathsf{low}
\lt \mathsf{high}</code>, where :math:<code>k</code> is an integer.</p>
</div>
<h2 id="attributes">Attributes</h2>
<p>low:
Lower endpoint of the range of the distribution. <code>low</code> is included in the range.
high:
Upper endpoint of the range of the distribution. <code>high</code> is included in the range.
q:
A discretization step.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class DiscreteUniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A discretized uniform distribution in the linear domain.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_discrete_uniform`, and passed
    to :mod:`~optuna.samplers` in general.

    .. note::
        If the range :math:`[\\mathsf{low}, \\mathsf{high}]` is not divisible by :math:`q`,
        :math:`\\mathsf{high}` will be replaced with the maximum of :math:`k q + \\mathsf{low}
        \\lt \\mathsf{high}`, where :math:`k` is an integer.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is included in the range.
        q:
            A discretization step.
    &#34;&#34;&#34;

    def __init__(self, low: float, high: float, q: float) -&gt; None:
        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}, q={}).&#34;.format(low, high, q)
            )

        high = _adjust_discrete_uniform_high(low, high, q)

        self.low = low
        self.high = high
        self.q = q

    def single(self) -&gt; bool:

        if self.low == self.high:
            return True
        high = decimal.Decimal(str(self.high))
        low = decimal.Decimal(str(self.low))
        q = decimal.Decimal(str(self.q))
        if (high - low) &lt; q:
            return True
        return False

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        value = param_value_in_internal_repr
        return self.low &lt;= value &lt;= self.high</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></b></code>:
<ul class="hlist">
<li><code><a title="optuna.distributions.BaseDistribution.single" href="#optuna.distributions.BaseDistribution.single">single</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_external_repr" href="#optuna.distributions.BaseDistribution.to_external_repr">to_external_repr</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_internal_repr" href="#optuna.distributions.BaseDistribution.to_internal_repr">to_internal_repr</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="optuna.distributions.IntLogUniformDistribution"><code class="flex name class">
<span>class <span class="ident">IntLogUniformDistribution</span></span>
<span>(</span><span>low: int, high: int, step: int = 1)</span>
</code></dt>
<dd>
<div class="desc"><p>A uniform distribution on integers in the log domain.</p>
<p>This object is instantiated by :func:<code>~optuna.trial.Trial.suggest_int</code>, and passed to
:mod:<code>~optuna.samplers</code> in general.</p>
<h2 id="attributes">Attributes</h2>
<p>low:
Lower endpoint of the range of the distribution. <code>low</code> is included in the range.
high:
Upper endpoint of the range of the distribution. <code>high</code> is included in the range.
step:
A step for spacing between values.</p>
<pre><code>!!! warning "Warning"
    Deprecated in v2.0.0. &lt;code&gt;step&lt;/code&gt; argument will be removed in the future.
    The removal of this feature is currently scheduled for v4.0.0,
    but this schedule is subject to change.

    Samplers and other components in Optuna relying on this distribution will ignore
    this value and assume that &lt;code&gt;step&lt;/code&gt; is always 1.
    User-defined samplers may continue to use other values besides 1 during the
    deprecation.
</code></pre></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class IntLogUniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A uniform distribution on integers in the log domain.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_int`, and passed to
    :mod:`~optuna.samplers` in general.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is included in the range.
        step:
            A step for spacing between values.

            .. warning::
                Deprecated in v2.0.0. ``step`` argument will be removed in the future.
                The removal of this feature is currently scheduled for v4.0.0,
                but this schedule is subject to change.

                Samplers and other components in Optuna relying on this distribution will ignore
                this value and assume that ``step`` is always 1.
                User-defined samplers may continue to use other values besides 1 during the
                deprecation.
    &#34;&#34;&#34;

    def __init__(self, low: int, high: int, step: int = 1) -&gt; None:
        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )

        if low &lt; 1.0:
            raise ValueError(
                &#34;The `low` value must be equal to or greater than 1 for a log distribution &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )

        if step != 1:
            self._warn_step()

        self.low = low
        self.high = high
        self._step = step

    def __repr__(self) -&gt; str:
        # TODO(hvy): `BaseDistribution.__repr__` could rely on `_asdict` instead of `__dict__`.
        # `IntLogUniformDistribution` would not have to override `__repr__`.
        kwargs = &#34;, &#34;.join(&#34;{}={}&#34;.format(k, v) for k, v in sorted(self._asdict().items()))
        return &#34;{}({})&#34;.format(self.__class__.__name__, kwargs)

    def _asdict(self) -&gt; Dict:
        d = copy.copy(self.__dict__)
        d[&#34;step&#34;] = d.pop(&#34;_step&#34;)
        return d

    def _warn_step(self) -&gt; None:
        warnings.warn(
            &#34;Samplers and other components in Optuna will assume that `step` is 1. &#34;
            &#34;`step` argument is deprecated and will be removed in the future. &#34;
            &#34;The removal of this feature is currently scheduled for v4.0.0, &#34;
            &#34;but this schedule is subject to change.&#34;,
            FutureWarning,
        )

    def to_external_repr(self, param_value_in_internal_repr: float) -&gt; int:
        return int(param_value_in_internal_repr)

    def to_internal_repr(self, param_value_in_external_repr: int) -&gt; float:
        return float(param_value_in_external_repr)

    def single(self) -&gt; bool:
        return self.low == self.high

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:
        value = param_value_in_internal_repr
        return self.low &lt;= value &lt;= self.high

    @property
    def step(self) -&gt; int:
        self._warn_step()
        return self._step

    @step.setter
    def step(self, value: int) -&gt; None:
        self._warn_step()
        self._step = value</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></li>
</ul>
<h3>Instance variables</h3>
<dl>
<dt id="optuna.distributions.IntLogUniformDistribution.step"><code class="name">var <span class="ident">step</span> : int</code></dt>
<dd>
<div class="desc"></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">@property
def step(self) -&gt; int:
    self._warn_step()
    return self._step</code></pre>
</details>
</dd>
</dl>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></b></code>:
<ul class="hlist">
<li><code><a title="optuna.distributions.BaseDistribution.single" href="#optuna.distributions.BaseDistribution.single">single</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_external_repr" href="#optuna.distributions.BaseDistribution.to_external_repr">to_external_repr</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_internal_repr" href="#optuna.distributions.BaseDistribution.to_internal_repr">to_internal_repr</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="optuna.distributions.IntUniformDistribution"><code class="flex name class">
<span>class <span class="ident">IntUniformDistribution</span></span>
<span>(</span><span>low: int, high: int, step: int = 1)</span>
</code></dt>
<dd>
<div class="desc"><p>A uniform distribution on integers.</p>
<p>This object is instantiated by :func:<code>~optuna.trial.Trial.suggest_int</code>, and passed to
:mod:<code>~optuna.samplers</code> in general.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If the range :math:<code>[\mathsf{low}, \mathsf{high}]</code> is not divisible by
:math:<code>\mathsf{step}</code>, :math:<code>\mathsf{high}</code> will be replaced with the maximum of
:math:<code>k \times \mathsf{step} + \mathsf{low} \lt \mathsf{high}</code>, where :math:<code>k</code> is
an integer.</p>
</div>
<h2 id="attributes">Attributes</h2>
<p>low:
Lower endpoint of the range of the distribution. <code>low</code> is included in the range.
high:
Upper endpoint of the range of the distribution. <code>high</code> is included in the range.
step:
A step for spacing between values.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class IntUniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A uniform distribution on integers.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_int`, and passed to
    :mod:`~optuna.samplers` in general.

    .. note::
        If the range :math:`[\\mathsf{low}, \\mathsf{high}]` is not divisible by
        :math:`\\mathsf{step}`, :math:`\\mathsf{high}` will be replaced with the maximum of
        :math:`k \\times \\mathsf{step} + \\mathsf{low} \\lt \\mathsf{high}`, where :math:`k` is
        an integer.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is included in the range.
        step:
            A step for spacing between values.
    &#34;&#34;&#34;

    def __init__(self, low: int, high: int, step: int = 1) -&gt; None:
        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )
        if step &lt;= 0:
            raise ValueError(
                &#34;The `step` value must be non-zero positive value, but step={}.&#34;.format(step)
            )

        high = _adjust_int_uniform_high(low, high, step)

        self.low = low
        self.high = high
        self.step = step

    def to_external_repr(self, param_value_in_internal_repr: float) -&gt; int:

        return int(param_value_in_internal_repr)

    def to_internal_repr(self, param_value_in_external_repr: int) -&gt; float:

        return float(param_value_in_external_repr)

    def single(self) -&gt; bool:

        if self.low == self.high:
            return True
        return (self.high - self.low) &lt; self.step

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        value = param_value_in_internal_repr
        return self.low &lt;= value &lt;= self.high</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></b></code>:
<ul class="hlist">
<li><code><a title="optuna.distributions.BaseDistribution.single" href="#optuna.distributions.BaseDistribution.single">single</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_external_repr" href="#optuna.distributions.BaseDistribution.to_external_repr">to_external_repr</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_internal_repr" href="#optuna.distributions.BaseDistribution.to_internal_repr">to_internal_repr</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="optuna.distributions.LogUniformDistribution"><code class="flex name class">
<span>class <span class="ident">LogUniformDistribution</span></span>
<span>(</span><span>low: float, high: float)</span>
</code></dt>
<dd>
<div class="desc"><p>A uniform distribution in the log domain.</p>
<p>This object is instantiated by :func:<code>~optuna.trial.Trial.suggest_loguniform</code>, and passed to
:mod:<code>~optuna.samplers</code> in general.</p>
<h2 id="attributes">Attributes</h2>
<p>low:
Lower endpoint of the range of the distribution. <code>low</code> is included in the range.
high:
Upper endpoint of the range of the distribution. <code>high</code> is excluded from the range.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class LogUniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A uniform distribution in the log domain.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_loguniform`, and passed to
    :mod:`~optuna.samplers` in general.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is excluded from the range.
    &#34;&#34;&#34;

    def __init__(self, low: float, high: float) -&gt; None:

        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )
        if low &lt;= 0.0:
            raise ValueError(
                &#34;The `low` value must be larger than 0 for a log distribution &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )

        self.low = low
        self.high = high

    def single(self) -&gt; bool:

        return self.low == self.high

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        value = param_value_in_internal_repr
        if self.low == self.high:
            return value == self.low
        else:
            return self.low &lt;= value &lt; self.high</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></b></code>:
<ul class="hlist">
<li><code><a title="optuna.distributions.BaseDistribution.single" href="#optuna.distributions.BaseDistribution.single">single</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_external_repr" href="#optuna.distributions.BaseDistribution.to_external_repr">to_external_repr</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_internal_repr" href="#optuna.distributions.BaseDistribution.to_internal_repr">to_internal_repr</a></code></li>
</ul>
</li>
</ul>
</dd>
<dt id="optuna.distributions.UniformDistribution"><code class="flex name class">
<span>class <span class="ident">UniformDistribution</span></span>
<span>(</span><span>low: float, high: float)</span>
</code></dt>
<dd>
<div class="desc"><p>A uniform distribution in the linear domain.</p>
<p>This object is instantiated by :func:<code>~optuna.trial.Trial.suggest_uniform</code>, and passed to
:mod:<code>~optuna.samplers</code> in general.</p>
<h2 id="attributes">Attributes</h2>
<p>low:
Lower endpoint of the range of the distribution. <code>low</code> is included in the range.
high:
Upper endpoint of the range of the distribution. <code>high</code> is excluded from the range.</p></div>
<details class="source">
<summary>
<span>Expand source code</span>
</summary>
<pre><code class="python">class UniformDistribution(BaseDistribution):
    &#34;&#34;&#34;A uniform distribution in the linear domain.

    This object is instantiated by :func:`~optuna.trial.Trial.suggest_uniform`, and passed to
    :mod:`~optuna.samplers` in general.

    Attributes:
        low:
            Lower endpoint of the range of the distribution. ``low`` is included in the range.
        high:
            Upper endpoint of the range of the distribution. ``high`` is excluded from the range.
    &#34;&#34;&#34;

    def __init__(self, low: float, high: float) -&gt; None:

        if low &gt; high:
            raise ValueError(
                &#34;The `low` value must be smaller than or equal to the `high` value &#34;
                &#34;(low={}, high={}).&#34;.format(low, high)
            )

        self.low = low
        self.high = high

    def single(self) -&gt; bool:

        return self.low == self.high

    def _contains(self, param_value_in_internal_repr: float) -&gt; bool:

        value = param_value_in_internal_repr
        if self.low == self.high:
            return value == self.low
        else:
            return self.low &lt;= value &lt; self.high</code></pre>
</details>
<h3>Ancestors</h3>
<ul class="hlist">
<li><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></li>
</ul>
<h3>Inherited members</h3>
<ul class="hlist">
<li><code><b><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></b></code>:
<ul class="hlist">
<li><code><a title="optuna.distributions.BaseDistribution.single" href="#optuna.distributions.BaseDistribution.single">single</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_external_repr" href="#optuna.distributions.BaseDistribution.to_external_repr">to_external_repr</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_internal_repr" href="#optuna.distributions.BaseDistribution.to_internal_repr">to_internal_repr</a></code></li>
</ul>
</li>
</ul>
</dd>
</dl>
</section>
</article>
<nav id="sidebar">
<h1>Index</h1>
<div class="toc">
<ul></ul>
</div>
<ul id="index">
<li><h3>Super-module</h3>
<ul>
<li><code><a title="optuna" href="index.html">optuna</a></code></li>
</ul>
</li>
<li><h3><a href="#header-functions">Functions</a></h3>
<ul class="">
<li><code><a title="optuna.distributions.check_distribution_compatibility" href="#optuna.distributions.check_distribution_compatibility">check_distribution_compatibility</a></code></li>
<li><code><a title="optuna.distributions.distribution_to_json" href="#optuna.distributions.distribution_to_json">distribution_to_json</a></code></li>
<li><code><a title="optuna.distributions.json_to_distribution" href="#optuna.distributions.json_to_distribution">json_to_distribution</a></code></li>
</ul>
</li>
<li><h3><a href="#header-classes">Classes</a></h3>
<ul>
<li>
<h4><code><a title="optuna.distributions.BaseDistribution" href="#optuna.distributions.BaseDistribution">BaseDistribution</a></code></h4>
<ul class="">
<li><code><a title="optuna.distributions.BaseDistribution.single" href="#optuna.distributions.BaseDistribution.single">single</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_external_repr" href="#optuna.distributions.BaseDistribution.to_external_repr">to_external_repr</a></code></li>
<li><code><a title="optuna.distributions.BaseDistribution.to_internal_repr" href="#optuna.distributions.BaseDistribution.to_internal_repr">to_internal_repr</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="optuna.distributions.CategoricalDistribution" href="#optuna.distributions.CategoricalDistribution">CategoricalDistribution</a></code></h4>
</li>
<li>
<h4><code><a title="optuna.distributions.DiscreteUniformDistribution" href="#optuna.distributions.DiscreteUniformDistribution">DiscreteUniformDistribution</a></code></h4>
</li>
<li>
<h4><code><a title="optuna.distributions.IntLogUniformDistribution" href="#optuna.distributions.IntLogUniformDistribution">IntLogUniformDistribution</a></code></h4>
<ul class="">
<li><code><a title="optuna.distributions.IntLogUniformDistribution.step" href="#optuna.distributions.IntLogUniformDistribution.step">step</a></code></li>
</ul>
</li>
<li>
<h4><code><a title="optuna.distributions.IntUniformDistribution" href="#optuna.distributions.IntUniformDistribution">IntUniformDistribution</a></code></h4>
</li>
<li>
<h4><code><a title="optuna.distributions.LogUniformDistribution" href="#optuna.distributions.LogUniformDistribution">LogUniformDistribution</a></code></h4>
</li>
<li>
<h4><code><a title="optuna.distributions.UniformDistribution" href="#optuna.distributions.UniformDistribution">UniformDistribution</a></code></h4>
</li>
</ul>
</li>
</ul>
</nav>
</main>
<footer id="footer">
<p>Generated by <a href="https://pdoc3.github.io/pdoc"><cite>pdoc</cite> 0.9.1</a>.</p>
</footer>
</body>
</html>